(this["webpackJsonphsl-liitynta"]=this["webpackJsonphsl-liitynta"]||[]).push([[0],{84:function(n,e,t){"use strict";t.r(e);var c=t(0),i=t.n(c),a=t(31),r=t.n(a),o=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,98)).then((function(e){var t=e.getCLS,c=e.getFID,i=e.getFCP,a=e.getLCP,r=e.getTTFB;t(n),c(n),i(n),a(n),r(n)}))},s=t(8),l=t(3),d=t(18),b=t(54),j=t.n(b),h=t(22),u=t(2),p=t(5),f=t(19),O=t.n(f),g=t(1);function m(){var n=Object(c.useState)(),e=Object(p.a)(n,2),t=e[0],i=e[1],a=Object(u.f)().id;return Object(c.useEffect)((function(){O.a.get("https://p.hsl.fi/api/v1/facilities/".concat(a,".json")).then((function(n){i(n.data)})).catch((function(n){console.log(n)})).then((function(){}))}),[]),console.log(t),Object(g.jsxs)("div",{children:[Object(g.jsx)(h.b,{to:"/",children:"Takaisin"}),Object(g.jsx)("h2",{children:t&&t.name.fi})]})}var x,v=t(15),y=t(96),k=v.a.header(x||(x=Object(s.a)(["\n    padding: ","px;\n    background-color: ",";\n    color: ",";\n"])),(function(n){return n.theme.spacing.large}),(function(n){return n.theme.color.primary}),(function(n){return n.theme.color.white}));function w(n){var e=n.children;return Object(g.jsx)(k,{children:e})}var S=t(33),C=t(4),A=t(90),T=t(91),D=t(6),N=t.n(D),E=t(42),F=t.n(E),H=t(89),z=t(97),I=t(92),M=t(93),P=t(94),R=t(95),U=t(10),B=t(23);var L,Y,J,G,K,_=Object(B.a)("div",{target:"emb2msa2"})({name:"bjn8wh",styles:"position:relative"}),q=Object(B.a)("input",{target:"emb2msa1"})({name:"109bpo7",styles:"border:0;clip:rect(0 0 0 0);clippath:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px"}),Q=Object(B.a)("div",{target:"emb2msa0"})("display:flex;cursor:pointer;align-items:center;justify-content:center;width:40px;height:40px;background-color:",(function(n){return n.checked?n.theme.color.primary:n.theme.color.white}),";border-radius:50%;border:2px solid ",(function(n){return n.theme.color.primary}),";transition:all 150ms;color:",(function(n){return n.checked?n.theme.color.white:n.theme.color.primary}),";font-size:0.9rem;");function V(n){var e=n.checked,t=n.children,c=Object(U.a)(n,["checked","children"]);return Object(g.jsxs)(_,{children:[Object(g.jsx)(q,Object(C.a)({type:"checkbox",defaultChecked:e},c)),Object(g.jsx)(Q,{checked:e,children:t})]})}var W,X,Z=v.a.div(L||(L=Object(s.a)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n"]))),$=Object(v.a)(H.a)(Y||(Y=Object(s.a)(["\n    width: 100%;\n    height: 100%;\n    .leaflet-div-icon {\n        background-color: transparent;\n        background: transparent;\n        border: 0;\n    }\n\n"]))),nn=v.a.div(J||(J=Object(s.a)(["\n  position: relative;\n  \n  border-radius: 50% 50% 50% 0;\n  border: 4px solid ",";\n  width: 20px;\n  height: 20px;\n  transform: rotate(-45deg);\n  background-color: white;\n\n  &::after {\n    position: absolute;\n  content: '';\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  top: 50%;\n  left: 50%;\n  margin-left: -5px;\n  margin-top: -5px;\n  background-color: ",";\n  }\n"])),(function(n){return n.color}),(function(n){return n.color})),en=v.a.div(G||(G=Object(s.a)(["\n  display: block;\n  position: absolute;\n  top: 0;\n  right: 0;\n  background-color: rgba(255,255,255,0.7);\n  padding: ","px;\n  z-index: 999;\n"])),(function(n){return n.theme.spacing.large})),tn=v.a.div(K||(K=Object(s.a)(["\n  display:flex;\n  width: 100%;\n  flex-direction: column;\n  align-items: center;\n\n  & > * {\n    margin-top: ","px;\n  }\n"])),(function(n){return n.theme.spacing.medium}));function cn(n){var e=n.markers,t=Object(l.h)(),i=Object(c.useState)(null),a=Object(p.a)(i,2),r=a[0],o=a[1],s=Object(c.useState)([]),d=Object(p.a)(s,2),b=d[0],j=d[1],u=Object(c.useState)({"12H":!1,247:!1,CUSTOM:!1}),f=Object(p.a)(u,2),m=f[0],x=f[1],v=Object(c.useState)([]),y=Object(p.a)(v,2),k=y[0],w=y[1],D=Object(c.useState)(e),E=Object(p.a)(D,2),H=E[0],U=E[1],B=Object(c.useState)(),L=Object(p.a)(B,2),Y=L[0],J=L[1],G=function(n){!function(n){var e=Object.keys(n).filter((function(e){return n[e]}));w(e),x(n)}(Object(C.a)(Object(C.a)({},m),{},Object(S.a)({},n.target.name,!m[n.target.name])))},K=Object(c.useCallback)((function(){return e?0===k.length?e:e.filter((function(n){return k.some((function(e){return n.pricingMethod.includes(e)}))})):null}),[k,r]);Object(c.useEffect)((function(){var n=e.map((function(n){return O.a.get("https://p.hsl.fi/api/v1/facilities/".concat(n.id,".json")).then((function(n){return n.data}))}));n&&Promise.all(n).then((function(n){o(n)}))}),[]),Object(c.useEffect)((function(){var n=K();U(n)}),[k]);var _=N.a.divIcon({className:"custom-icon",html:F.a.renderToString(Object(g.jsx)(nn,{color:t.color.primary}))}),q=N.a.divIcon({className:"custom-icon",html:F.a.renderToString(Object(g.jsx)(nn,{color:t.color.grey}))});return Object(g.jsxs)(Z,{children:[Object(g.jsxs)(en,{children:[Object(g.jsx)("h3",{children:"Maksuton:"}),Object(g.jsxs)(tn,{children:[Object(g.jsx)("label",{children:Object(g.jsx)(V,{name:"12H",checked:m["12H"],onChange:G,children:"12h"})}),Object(g.jsx)("label",{children:Object(g.jsx)(V,{name:"247",checked:m[247],onChange:G,children:"24h"})})]})]}),Object(g.jsxs)($,{center:[60.402778,25.029167],zoom:11,children:[Object(g.jsx)(z.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(g.jsx)(I.a,{pathOptions:{color:"purple"},children:H&&H.map((function(n){var e=null===r||void 0===r?void 0:r.find((function(e){return e.id===n.id})),t=Y;return Object(g.jsxs)("div",{children:[Object(g.jsx)(M.a,{position:[n.location.bbox[1],n.location.bbox[0]],icon:(null===e||void 0===e?void 0:e.openingHours.openNow)?_:q,eventHandlers:{click:function(){var t;j([]),t=n.id,O.a.get("https://p.hsl.fi/api/v1/facilities/".concat(t,"/utilization.json")).then((function(n){j(n.data)})).catch((function(n){console.log(n)})).then((function(){})),J(void 0),e&&function(n){Object(A.a)(new Date)?J(n.SATURDAY):Object(T.a)(new Date)&&J(n.SUNDAY),J(n.BUSINESS_DAY)}(e.openingHours.byDayType)}},children:Object(g.jsxs)(P.a,{closeOnClick:!1,children:[Object(g.jsx)("h4",{children:n.name.fi}),t&&Object(g.jsxs)("span",{children:["Avoinna t\xe4n\xe4\xe4n: ",null===t||void 0===t?void 0:t.from," - ",null===t||void 0===t?void 0:t.until]}),Object(g.jsx)("br",{}),"Paikkoja yhteens\xe4: ",null===e||void 0===e?void 0:e.builtCapacity.CAR,0!==b.length&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("br",{}),Object(g.jsxs)("span",{children:["Paikkoja vapaana: ",b[0].spacesAvailable]})," "]}),Object(g.jsx)(h.b,{to:"/asema/".concat(n.id),children:"Katso lis\xe4tiedot"})]})}),Object(g.jsx)(R.a,{bounds:[[n.location.bbox[1],n.location.bbox[0]],[n.location.bbox[3],n.location.bbox[2]]]},n.id)]},n.id)}))})]})]})}var an=v.a.div(W||(W=Object(s.a)(["\n  width: 100%;\n  height: 90vh;\n"])));Object(v.a)(y.a.div)(X||(X=Object(s.a)(["\n    width: 80%;\n    margin: ","px auto;\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: ","px;\n    overflow: hidden;\n\n    div {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        img {\n            max-width: 100%;\n        }\n    }\n\n   \n"])),(function(n){return n.theme.spacing.large}),(function(n){return n.theme.spacing.large}));function rn(){var n=Object(c.useState)(null),e=Object(p.a)(n,2),t=e[0],i=e[1];return Object(c.useEffect)((function(){O.a.get("https://p.hsl.fi/api/v1/facilities.json").then((function(n){i(n.data.results.filter((function(n){return"CAR"===n.type})))})).catch((function(n){console.log(n)})).then((function(){}))}),[]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(w,{children:Object(g.jsx)("h2",{children:"Liitynt\xe4pys\xe4k\xf6intiparkkipaikat"})}),t&&Object(g.jsx)(an,{children:Object(g.jsx)(cn,{markers:t})})]})}function on(){return Object(g.jsx)(h.a,{children:Object(g.jsxs)(u.c,{children:[Object(g.jsx)(u.a,{path:"/asema/:id",children:Object(g.jsx)(m,{})}),Object(g.jsx)(u.a,{path:"/",children:Object(g.jsx)(rn,{})})]})})}var sn,ln={color:{primary:"#1b8185",grey:"#9e9e9e",white:"#ffffff"},spacing:{small:4,medium:8,large:16}};function dn(){return Object(g.jsxs)(l.d,{theme:ln,children:[Object(g.jsx)(d.Global,{styles:Object(d.css)(sn||(sn=Object(s.a)(["\n         ","\n\n        body {\n          font-family: 'Nunito', sans-serif;\n          h1,h2,h3 {  \n            font-family: 'Raleway', sans-serif;\n          }\n          p {\n            font-family: 'Nunito', sans-serif;\n          }\n        }\n      "])),j.a)}),Object(g.jsx)(on,{})]})}r.a.render(Object(g.jsx)(i.a.StrictMode,{children:Object(g.jsx)(dn,{})}),document.getElementById("root")),o()}},[[84,1,2]]]);
//# sourceMappingURL=main.96343f03.chunk.js.map