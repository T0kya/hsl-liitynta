{"version":3,"sources":["reportWebVitals.ts","pages/ParkingSlot.tsx","components/Header.tsx","components/Filters/Checkbox.tsx","components/MapMarker.tsx","components/Map.tsx","pages/Frontpage.tsx","App.tsx","theme/theme.ts","Root.tsx","index.tsx"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ParkingSlot","useState","info","setInfo","id","useParams","useEffect","axios","get","response","data","catch","error","console","log","to","name","fi","Container","styled","header","props","theme","spacing","large","color","primary","white","Header","children","HiddenCheckbox","StyledCheckbox","checked","Checkbox","type","defaultChecked","Icon","div","MapMarker","marker","details","useTheme","utilization","setUtilization","currentOpeningHours","setOpeningHours","greenIcon","L","divIcon","className","html","ReactDOMServer","renderToString","redIcon","grey","openingHours","Marker","position","location","bbox","icon","openNow","eventHandlers","click","undefined","isSaturday","Date","SATURDAY","isSunday","SUNDAY","BUSINESS_DAY","getOpeningHours","byDayType","Popup","closeOnClick","from","until","builtCapacity","CAR","length","spacesAvailable","StyledMap","MapContainer","Filters","FilterGroup","medium","Map","markers","detailedPoints","setDetailedPoints","isOpenFilter","setIsOpenFilter","CUSTOM","setChecked","activeFilters","setActiveFilters","currentList","setCurrentList","toggleChecked","e","filters","activeFilterNames","Object","keys","filter","filterName","handleUpdate","target","filterList","useCallback","item","some","activeFilterName","pricingMethod","includes","promises","map","point","res","Promise","all","filtered","onChange","center","zoom","TileLayer","attribution","url","FeatureGroup","pathOptions","find","Rectangle","bounds","motion","Frontpage","carParkPoints","setCarParkPoints","results","App","path","small","Root","styles","css","emotionReset","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b7348a8d.chunk.js","sourcesContent":["import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import axios from 'axios'\nimport React, { useEffect, useState } from 'react'\nimport { useParams, Link } from 'react-router-dom'\nimport { DetailedFacility } from '../utils/interfaces'\n\n\nexport function ParkingSlot() {\n  const [info, setInfo] = useState<DetailedFacility | null>()\n  let { id } = useParams()\n  useEffect(() => {\n    axios.get<DetailedFacility>(`https://p.hsl.fi/api/v1/facilities/${id}.json`).then((response) => {\n    // handle success\n      setInfo(response.data)\n     \n    }).catch(function (error) {\n      // handle error\n      console.log(error)\n    })\n      .then(function () {\n        // always executed\n      })\n    \n    \n  },  [])\n\n  console.log(info)\n  return (<div>\n    <Link to=\"/\">Takaisin</Link>\n    <h2>{info && info.name.fi}</h2>\n  </div>)\n}","import styled from '@emotion/styled'\n\nconst Container = styled.header `\n    padding: ${props => props.theme.spacing.large}px;\n    background-color: ${props => props.theme.color.primary};\n    color: ${props => props.theme.color.white};\n`\n\ninterface Props {\n    children: React.ReactNode\n}\n\nexport function Header({children} : Props){\n  return <Container>\n    {children}\n  </Container>\n}","import styled from '@emotion/styled/macro'\nimport React, { ChangeEventHandler } from 'react'\nconst Container = styled.div `\n    position: relative;\n`\n\nconst HiddenCheckbox = styled.input`\n  border: 0;\n  clip: rect(0 0 0 0);\n  clippath: inset(50%);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n`\n\nconst StyledCheckbox = styled.div<{checked: boolean}>`\n  display: flex;\n  cursor: pointer;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 40px;\n background-color: ${props => props.checked ?  props.theme.color.primary : props.theme.color.white};\n  border-radius: 50%;\n  border: 2px solid ${props => props.theme.color.primary};\n  transition: all 150ms;\n  color: ${props => props.checked ? props.theme.color.white:  props.theme.color.primary};\n  font-size: 0.8rem;\n  text-align: center;\n`\n \n\n\ninterface Props {\n    onChange: ChangeEventHandler\n    checked: boolean\n    name: string\n    children: React.ReactNode\n  }\n\nexport function Checkbox({checked,\n  children,\n  ...props\n}: Props) {\n  \n  return (\n    <Container>\n      <HiddenCheckbox\n        type=\"checkbox\"\n        defaultChecked={checked}\n        {...props}\n      />\n      <StyledCheckbox checked={checked} >{children}</StyledCheckbox>\n        \n    </Container>\n  )\n}","import { DetailedFacility, Facility, OpeningHours, Utilization } from '../utils/interfaces'\nimport  {Marker, Popup  } from 'react-leaflet'\nimport { Link } from 'react-router-dom'\nimport styled from '@emotion/styled'\nimport L from 'leaflet'\nimport ReactDOMServer from 'react-dom/server'\nimport { useTheme } from '@emotion/react'\nimport { useState } from 'react'\nimport axios from 'axios'\nimport { isSaturday, isSunday } from 'date-fns'\n\ninterface Props {\n    marker: Facility\n    details: DetailedFacility\n}\n\n\nconst Icon = styled.div<{color: string}> `\n  position: relative;\n  \n  border-radius: 50% 50% 50% 0;\n  border: 4px solid ${props => props.color};\n  width: 20px;\n  height: 20px;\n  transform: rotate(-45deg);\n  background-color: white;\n\n  &::after {\n    position: absolute;\n  content: '';\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  top: 50%;\n  left: 50%;\n  margin-left: -5px;\n  margin-top: -5px;\n  background-color: ${props => props.color};\n  }\n`\n\nexport function MapMarker({marker, details } : Props) {\n  const theme = useTheme()\n\n  const [utilization, setUtilization] = useState<Utilization[]>([])\n  const [currentOpeningHours, setOpeningHours] = useState<OpeningHours>()\n\n  function getUtilization(id:number){\n    axios.get<Utilization[]>(`https://p.hsl.fi/api/v1/facilities/${id}/utilization.json`).then((response) => {\n       \n      setUtilization(response.data)\n    }).catch((error) => {\n      console.log(error)\n    }).then(() => {\n    \n      //execute\n    })\n  }\n\n  function getOpeningHours(details: {SUNDAY: OpeningHours, SATURDAY: OpeningHours, BUSINESS_DAY: OpeningHours}) {\n    if(isSaturday(new Date())) {\n      setOpeningHours(details.SATURDAY)\n    } else if (isSunday(new Date())) {\n      setOpeningHours(details.SUNDAY) \n    } \n    setOpeningHours(details.BUSINESS_DAY)\n  }\n    \n  const greenIcon = L.divIcon({\n    className: 'custom-icon',\n    html: ReactDOMServer.renderToString(<Icon color={theme.color.primary}/>)    \n  })\n    \n  const redIcon = L.divIcon({\n    className: 'custom-icon',\n    html: ReactDOMServer.renderToString(<Icon color={theme.color.grey}/>)    \n  })\n  const openingHours = currentOpeningHours\n  return  <Marker \n    position={[marker.location.bbox[1], marker.location.bbox[0]]} \n    icon={details?.openingHours.openNow ? greenIcon : redIcon}\n    eventHandlers={{\n      click: () => {\n        setUtilization([])\n        getUtilization(marker.id)\n        setOpeningHours(undefined)\n        details && getOpeningHours(details.openingHours.byDayType)\n      },\n    }}>\n    <Popup\n      closeOnClick={false}>\n      <h4>{marker.name.fi}</h4>\n      {openingHours && <span>Avoinna tänään: {openingHours?.from} - {openingHours?.until}</span>}<br />\n      Paikkoja yhteensä: {details?.builtCapacity.CAR}\n      {utilization.length !== 0 && <><br /><span>Paikkoja vapaana: {utilization[0].spacesAvailable}</span> </>}\n      <p><Link to={`/asema/${marker.id}`}>Katso lisätiedot</Link></p>\n    </Popup>\n  </Marker> \n}","import { useTheme } from '@emotion/react'\nimport styled from '@emotion/styled'\nimport axios from 'axios'\nimport { isSaturday, isSunday } from 'date-fns'\nimport  React, { useCallback, useEffect, useState } from 'react'\nimport { FeatureGroup,  MapContainer, Rectangle, TileLayer } from 'react-leaflet'\nimport { isTemplateExpression } from 'typescript'\nimport { DetailedFacility, Facility, FilterTypes, Utilization, OpeningHours } from '../utils/interfaces'\nimport { Checkbox } from './Filters/Checkbox'\nimport { MapMarker } from './MapMarker'\n\n\n\nconst Container = styled.div `\n  position: relative;\n  width: 100%;\n  height: 100%;\n`\n\nconst StyledMap = styled(MapContainer) `\n    width: 100%;\n    height: 100%;\n    .leaflet-div-icon {\n        background-color: transparent;\n        background: transparent;\n        border: 0;\n    }\n\n`\n\n\nconst Filters = styled.div `\n  display: block;\n  position: absolute;\n  top: 0;\n  right: 0;\n  background-color: rgba(255,255,255,0.7);\n  padding: ${props => props.theme.spacing.large}px;\n  z-index: 999;\n`\nconst FilterGroup = styled.div `\n  display:flex;\n  width: 100%;\n  flex-direction: column;\n  align-items: center;\n\n  & > * {\n    margin-top: ${props => props.theme.spacing.medium}px;\n  }\n`\n\ninterface Props {\n  markers: Facility[]\n}\n\ntype CheckedState = {\n  [key in FilterTypes]: boolean\n}\nexport function Map ({markers}: Props) {\n  const [detailedPoints, setDetailedPoints] = useState<DetailedFacility[] | null>(null)\n  const [isOpenFilter, setIsOpenFilter] = useState(false)\n\n  const [checked, setChecked] = useState<CheckedState>({\n    '12H': false,\n    '247': false,\n    CUSTOM: false,\n  })\n  const [activeFilters, setActiveFilters] = useState<string[]>([])\n  const [currentList, setCurrentList] = useState<Facility[] | null>(markers)\n\n  const handleUpdate = (filters: { [key in FilterTypes]: boolean }) => {\n    const activeFilterNames = Object.keys(filters).filter(\n      filterName => filters[filterName as FilterTypes]\n    )\n\n    setActiveFilters(activeFilterNames)\n    setChecked(filters)\n  }\n\n  const handleChangeOpen = () => {\n    setIsOpenFilter(!isOpenFilter)\n  }\n\n  const toggleChecked = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const newValue = {\n      ...checked,\n      [e.target.name]: !checked[e.target.name as FilterTypes]\n    }\n\n\n    handleUpdate(newValue)\n  }\n\n  const filterList = useCallback(() => {\n    if (!markers) {\n      return null\n    }\n    if (activeFilters.length === 0) {\n      return markers\n    }\n    return markers.filter(item => activeFilters.some(activeFilterName => item.pricingMethod.includes(activeFilterName)))\n    \n   \n  }, [activeFilters, detailedPoints])\n\n  useEffect(() => {\n    const promises = markers.map(point => { return axios.get<DetailedFacility>(`https://p.hsl.fi/api/v1/facilities/${point.id}.json`).then(res => res.data)})\n    \n    promises && \n      Promise.all(promises).then(data => {\n        setDetailedPoints(data)\n      })\n    \n  },  [])\n\n  useEffect(() => {\n    const filtered = filterList()\n    setCurrentList(filtered)\n  }, [activeFilters])\n  \n  const purpleOptions = { color: 'purple' }\n\n  return (\n    <Container>   \n      <Filters>\n        <h3>Maksuton:</h3>\n        <FilterGroup>\n          <label>\n            <Checkbox\n              name=\"12H\"\n              checked={checked['12H']}\n              onChange={toggleChecked}\n            >12h</Checkbox>\n           \n          </label>\n          <label>\n            <Checkbox\n              name=\"247\"\n              checked={checked['247']}\n              onChange={toggleChecked}\n            >24h</Checkbox>\n           \n          </label>\n        </FilterGroup>\n        <FilterGroup>\n          <label>\n            <Checkbox\n              name=\"open\"\n              checked={isOpenFilter}\n              onChange={handleChangeOpen}><span>Auki nyt</span></Checkbox>\n          </label>\n        </FilterGroup>\n      </Filters> \n      <StyledMap center={[60.402778, 25.029167]} zoom={11} >\n        <TileLayer\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n       \n        <FeatureGroup pathOptions={purpleOptions}>\n          {currentList && currentList.map(marker => {\n            const details = detailedPoints?.find(id => id.id === marker.id)\n          \n            return (\n              <div key={marker.id}>\n                {isOpenFilter ? \n                  details && details.openingHours.openNow && \n                  <MapMarker details={details} marker={marker} />\n                  :  details && <MapMarker details={details} marker={marker} />\n                }\n                <Rectangle key={marker.id} bounds={[\n                  [marker.location.bbox[1], marker.location.bbox[0]],\n                  [marker.location.bbox[3], marker.location.bbox[2]],\n                ]} />\n            \n              </div>\n            )}\n         \n          )}\n        </FeatureGroup>\n      </StyledMap>\n      \n    </Container>\n  )\n}\n","import styled from '@emotion/styled'\nimport axios from 'axios'\nimport { motion } from 'framer-motion'\nimport   { useEffect, useState } from 'react'\nimport { Header } from '../components/Header'\nimport { Map } from '../components/Map'\nimport { Facility } from '../utils/interfaces'\nimport Image from './roadImage.jpg'\n\nconst MapContainer = styled.div `\n  width: 100%;\n  height: 90vh;\n`\nconst TwoColumns = styled(motion.div) `\n    width: 80%;\n    margin: ${props => props.theme.spacing.large}px auto;\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: ${props => props.theme.spacing.large}px;\n    overflow: hidden;\n\n    div {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        img {\n            max-width: 100%;\n        }\n    }\n\n   \n`\n\n//animations\n\nconst container = {\n  hidden: { opacity: 0 },\n  show: {\n    opacity: 1,\n    transition: {\n      delayChildren: 0.5,\n      staggerChildren: 0.5\n    }\n  }\n}\n\nconst item = {\n  hidden: { y: '100%' },\n  show: { y: 0 }\n}\ninterface ApiResults {\n    hasMore: boolean;\n    results: Facility[]\n}\nexport function Frontpage(){\n  const [carParkPoints, setCarParkPoints] = useState<Facility[] | null>(null)\n \n\n  useEffect(() => {\n    axios.get<ApiResults>('https://p.hsl.fi/api/v1/facilities.json').then((response) => {\n      // handle success\n      setCarParkPoints(response.data.results.filter(item => item.type === 'CAR'))\n       \n    }).catch(function (error) {\n      // handle error\n      console.log(error)\n    })\n      .then(function () {\n        // always executed\n      })\n      \n      \n  },  [])\n  return (\n    <>\n      <Header>\n        <h2>Liityntäpysäköintiparkkipaikat</h2>\n      </Header>\n      {/* <TwoColumns\n        variants={container}\n        initial=\"hidden\"\n        animate=\"show\">\n        <motion.div\n          variants={item}>\n          <img src={Image} alt=\"illustration of road\"/>\n        </motion.div>\n        \n        <motion.div\n          variants={item}>\n          <h3>Alla olevasta kartasta voit katsoa mihin pysäköit helpoiten autosi, kun vaihdat julkisen liikenteen kulkuvälineeseen</h3>\n        </motion.div>\n     </TwoColumns>*/}\n      {carParkPoints &&\n          <MapContainer>\n            <Map markers={carParkPoints} /> \n          </MapContainer>\n      }\n    </>\n  )\n}","import {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from 'react-router-dom'\nimport { ParkingSlot } from './pages/ParkingSlot'\nimport { Frontpage } from './pages/Frontpage'\n\n\nexport function App() {\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/asema/:id\">\n          <ParkingSlot />\n        </Route>\n        <Route path=\"/\">\n          <Frontpage />\n        </Route>\n      </Switch>\n    </Router>\n    \n  )\n}\n\nexport default App\n","export const theme = {\n  color: {\n    primary: '#1b8185',\n    grey: '#9e9e9e',\n    white: '#ffffff'\n  },\n  spacing: {\n    small: 4,\n    medium: 8,\n    large: 16\n  }\n}","\nimport { css, Global,ThemeProvider } from '@emotion/react'\nimport emotionReset from 'emotion-reset'\n\n\nimport { App } from './App'\nimport { theme } from './theme/theme'\n\n\nexport function Root() {\n  return (\n    <ThemeProvider theme={theme}>\n      <Global\n        styles={css`\n         ${emotionReset}\n\n        body {\n          font-family: 'Nunito', sans-serif;\n          font-size: 16px;\n          h1,h2,h3, h4 {  \n            font-family: 'Raleway', sans-serif;\n          }\n          h1 {\n            font-size: 2rem;\n          }\n          h2 {\n            font-size: 1.6rem;\n          }\n          h3 {\n            font-size: 1.4rem;\n          }\n          h4 {\n            font-size: 1.2rem;\n          }\n          p {\n            font-family: 'Nunito', sans-serif;\n          }\n        }\n      `}\n      />\n\n      <App />\n  \n    </ThemeProvider>\n\n  )\n}","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport reportWebVitals from './reportWebVitals'\nimport { Root } from './Root'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Root />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}